version: "0.5"

runtimes:
  sh:
    command: ["sh", "?"]
    extensions: ["sh"]
  py:
    command: ["python3", "?"]
    extensions: ["py"]

recipes:
  build:
    help: "Build the pdf"
    script: "latexmk -file-line-error -pdf $PAPER"
    runtime: "sh"

  watch:
    help: "Rebuild when files are changed"
    script: "latexmk -halt-on-error -file-line-error -pdf -pvc $PAPER"
    runtime: "sh"

  clean:
    help: "Clean artifacts"
    script: "latexmk -pdf -pvc -c $PAPER"
    runtime: "sh"

  local-changes:
    help: "Commit local changes quickly"
    runtime: "sh"

  mk-makefile:
    help: "Create a Makefile that does build, watch, and clean"
    runtime: "sh"

  unused-macros:
    help: "Find unused macros"
    runtime: "py"
